!function(t){function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=20)}({0:function(t,i){t.exports=window.$},20:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(0),n=e.n(a);/*!
 * larui 组件规范  v0.1
 * Url: www.css.com.cn
 * Copyright (c) 
 * License: none
 * 
 * 后台返回参数要求
 * 图片标题 ：title
 * 图片描述: introduction
 * 图片地址： imgPath
 * 数据格式： 参见data.json
 * 
 *  参数
 *  @ dataUrl  string
 *  照片墙请求的action
 *  
 *  @galleryType   string
 *  照片墙渲染种类，有tall和square两种
 *  
 *  @titleType   string
 *  标题显示类型，default和mask两种
 *  
 *  @picSize   integer
 *  照片墙默认显示数目，和每次分页请求请求数目，默认为8
 *  
 *  @showTitle   boolean
 *  是否显示标题
 *  
 *  @ paramMap obj
 *  后台返回字段映射参数
 *	   imgPath    默认值 : 'imgPath',
 *	   title      默认值 : 'title',
 *	   id         默认值 : 'id',
 *     linkMap obj 
 *     给gallerywall的照片添加链接有两种方式：第一种就是在该属性下配置映射关系，并设置linkType属性，从而让不同图片根据链接类型跳转不同链接。
 *     var urlList = {
 *		    '501' 	: searchUrl + 'drama/drama.html',					// 戏剧
 *		    '502' 	: searchUrl + 'movie/movie.html',					// 电影
 *	    	'503' 	: searchUrl + 'music/music.html',					// 音乐
 *	   }
 *	   linkType string
 *      链接类型
 *	   'opusTypeDict'
 *
 *	@ link string 
 *  给gallerywall的照片添加链接有两种方式：第二种就是在改link属性下直接加跳转链接，这种方式，所有图片跳转唯一链接。
 *  
 *  使用方法：
 *  HTML:
 *  <div class="galleryWallContainer"></div>
 *
 *  JS: 
 *	$('.galleryWallContainer').galleryWall({
 *		dataUrl : baseUrl + '/sword/search/artist/museum/getArtistOpusPage',
 *		galleryType : 'tall',
 *		titleType : 'default',
 *		paramMap : {
 *			imgPath : 'attachmentPath',
 *			title : 'title',
 *			id : 'artistId'
 *		},
 *		param : {
 *			artistId : '9bb6842532054c5fa82351b6d2aafcb1'
 *		},
 *   	pageSize : 8
 *	});
 *		
 *  注意事项：
 *  1. 必须加 .galleryWallContainer
 */
window.$=n.a,function(t){function i(i,e){this.options=t.extend(!0,{},this.defaults,e),this.GalleryWall=i,this.$GalleryWall=t(i),this.$arrow=t(i).next(),this.pageNumber=this.options.pageNumber,this.$galleryPics,this.picHeight,this.picWidth,this.afterLoad=this.options.afterLoad,this.executed=!1,this.init()}i.prototype={constructor:i,defaults:{dataUrl:"data.json",galleryType:"tall",titleType:"mask",pageSize:"8",pageNumber:1,showTitle:!0,defaultPicType:"",selfAdaption:!1,paramMap:{imgPath:"imgPath",title:"title",id:"id"},link:""},init:function(){this.buildDom(),this.loadingImg(),this.bindArrowEvent()},buildDom:function(){this.$GalleryWall.empty(),this.$GalleryWall.next("div").remove(),this.$GalleryWall.after('<div style="margin-bottom: 30px; margin-top: 0px;" class="btn_dropDown"><button class="icon btn_arrow"></button></div>')},loadingImg:function(){var i=this,e=t.extend(i.options.param,{pageSize:i.options.pageSize,curPage:i.pageNumber++});i.initImageSize(),t.post(this.options.dataUrl,e,function(a){2==i.pageNumber&&(i.buildDom(),i.bindArrowEvent()),a.model.allDataCount/i.options.pageSize<=e.curPage&&i.$GalleryWall.next(".btn_dropDown").hide();var n="";t.each(a.model.curPageData,function(t,e){n+='<div class="gWImgContainer">'+i.setPicLink(i.options.paramMap.linkType,e,i.options.paramMap.id),i.options.selfAdaption?n+='<div style="width: 95%; height: 95%; margin:0 auto; overflow: hidden;"><img style="margin-left:0px; margin-right:0px; width: 100%; height: 100%; " title="'+e[i.options.paramMap.title]+'" class="'+i.pageNumber+"^"+t+'" src="'+URL_FILE_SERVER+e[i.options.paramMap.imgPath]+'" onerror="placeholderImg(\''+i.options.defaultPicType+"',this);\"></div>":n+='<img style="width: '+i.picWidth+"px; height: "+i.picHeight+'px;" title="'+e[i.options.paramMap.title]+'" class="'+i.pageNumber+"^"+t+'" src="'+URL_FILE_SERVER+e[i.options.paramMap.imgPath]+'" onerror="placeholderImg(\''+i.options.defaultPicType+"',this);\">",n+=i.setPicLinkAfter(i.options.paramMap.linkType,e,i.options.paramMap.id)+"</div>"});var o=t(n);i.$GalleryWall.append(o),i.renderTitle(o,a.model.curPageData),!1===i.executed&&"function"==typeof i.afterLoad&&(i.afterLoad.apply(this,[a]),i.executed=!0)},"json")},bindArrowEvent:function(){var t=this;t.$arrow=t.$GalleryWall.next(),t.$arrow.unbind("click").bind("click",function(){t.loadingImg()})},renderTitle:function(t,i){"mask"==this.options.titleType?this.renderMaskTitle(t,i):"default"==this.options.titleType&&this.renderDefaultTitle(t,i)},renderMaskTitle:function(i,e){var a=this;i.each(function(i,n){t(this).find("a").append("<p class='gwTitle gwMaskTitle'>"+e[i][a.options.paramMap.title]+"</p>"),t(this).hover(function(){t('<a href="'+t(this).find("a").attr("href")+' " target="'+t(this).find("a").attr("target")+'"><div class="picMask"><h4>'+e[i][a.options.paramMap.title]+"</h4><p>"+e[i][a.options.paramMap.audioAuthor]+"</p></div></a>").hide().appendTo(t(this)).fadeIn(500)},function(){t(this).find(".picMask").remove()})})},renderDefaultTitle:function(i,e){var a=this;i.each(function(i,n){t(this).children("a,div").append("<p class='gwTitle' title='"+e[i][a.options.paramMap.title]+"'>"+e[i][a.options.paramMap.title]+"</p>")})},initImageSize:function(){var t=this;"square"==t.options.galleryType?(t.picWidth=220,t.picHeight=220):"tall"==t.options.galleryType&&(t.picWidth=180,t.picHeight=220)},setPicLink:function(t,i,e){var a=this;if(this.options.link)return'<a target="_blank" href="'+a.options.link+"?id="+i[e]+'">';var n=i[t];return i[e]&&i[t]?'<a target="_blank" href="'+a.options.paramMap.linkMap[n]+"?id="+i[e]+'">':"<div>"},setPicLinkAfter:function(t,i,e){return this.options.link?"</a>":i[e]&&i[t]?"</a>":"</div>"},setPicSrc:function(t){return DEFAULT_IMAGE}},t.fn.galleryWall=function(e){return this.each(function(){return t.data(this,"galleryWall",new i(this,e))})}}(jQuery)}});