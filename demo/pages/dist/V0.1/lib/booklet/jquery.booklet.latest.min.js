!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=45)}({45:function(e,t){!function(e){function t(t,n){var o,a,r,i,s,d,l,p,c,h,u,f,g,b,v,w,x,m,I,T,k,y,C,B,N,O,W,L,F,P,M,S,D,E,z,j,q,Q,R,H,A,_,X,G,J,K,U,V,Y,Z,$,ee,te,ne,oe,ae,re,ie,se,de,le,pe,ce,he,ue,fe,ge=t,be=n,ve=!1,we=!1,xe=!1,me=!1,Ie=!1,Te=!1,ke={empty:'<div class="b-page-empty" title=""></div>',blank:'<div class="b-page-blank" title=""></div>',sF:'<div class="b-shadow-f"></div>',sB:'<div class="b-shadow-b"></div>'},ye={leftToRight:"LTR",rightToLeft:"RTL"},Ce={},Be={},Ne=[],Oe="",We={create:"bookletcreate",start:"bookletstart",change:"bookletchange",add:"bookletadd",remove:"bookletremove"},Le=function(e,t,n){var o,a="",r="";return e.attr("rel")&&(a=e.attr("rel")),e.attr("title")&&(r=e.attr("title")),e.hasClass("b-page-empty")?e.wrap('<div class="b-page"><div class="b-wrap"></div></div>'):n.closed&&n.covers&&(1==t||t==n.pageTotal-2)?e.wrap('<div class="b-page"><div class="b-wrap b-page-cover"></div></div>'):t%2!=0?e.wrap('<div class="b-page"><div class="b-wrap b-wrap-right"></div></div>'):e.wrap('<div class="b-page"><div class="b-wrap b-wrap-left"></div></div>'),o=e.parents(".b-page").addClass("b-page-"+t),n.pageNumbers&&!e.hasClass("b-page-empty")&&(!n.closed||n.closed&&!n.covers||n.closed&&n.covers&&1!=t&&t!=n.pageTotal-2)&&(n.direction==ye.leftToRight&&u++,e.parent().append('<div class="b-counter">'+u+"</div>"),n.direction==ye.rightToLeft&&u--),{index:t,contentNode:e[0],pageNode:o[0],chapter:a,title:r}},Fe=function(){ge.find(".b-load").children().unwrap(),ge.addClass("booklet"),ge.data("booklet",this),h=ge.children().length,be.currentIndex=0,De(),Qe(),Ee(),Ae(),_e(),ve=!0,Te=!1,fe={options:e.extend({},be),index:be.currentIndex,pages:[Ne[be.currentIndex].contentNode,Ne[be.currentIndex+1].contentNode]},be.create&&ge.off(We.create+".booklet").on(We.create+".booklet",be.create),ge.trigger(We.create,fe)},Pe=function(){Te=!1},Me=function(){Te=!0},Se=function(){Ve(),qe(),ge.removeClass("booklet"),ge.removeData("booklet"),ve=!1},De=function(){Ne=[],ge.children().length%2!=0&&(be.closed&&be.covers?ge.children().last().before(ke.blank):ge.children().last().after(ke.blank)),be.closed&&(e(ke.empty).attr({title:be.closedFrontTitle||"",rel:be.closedFrontChapter||""}).prependTo(ge),ge.children().last().attr({title:be.closedBackTitle||"",rel:be.closedBackChapter||""}),ge.append(ke.empty)),be.pageTotal=ge.children().length,u=0,be.direction==ye.rightToLeft&&(u=be.pageTotal,be.closed&&(u-=2),be.covers&&(u-=2),e(ge.children().get().reverse()).each(function(){e(this).appendTo(ge)})),ve||(be.direction==ye.leftToRight?be.currentIndex=0:be.direction==ye.rightToLeft&&(be.currentIndex=be.pageTotal-2),!isNaN(be.startingPage)&&be.startingPage<=be.pageTotal&&be.startingPage>0&&(be.startingPage%2!=0&&be.startingPage--,be.currentIndex=be.startingPage)),ge.children().each(function(t){var n=new Le(e(this),t,be);Ne.push(n)})},Ee=function(){ze(),je(),Xe()},ze=function(){ge.find(".b-page").removeClass("b-pN b-p0 b-p1 b-p2 b-p3 b-p4").hide(),be.currentIndex-2>=0&&(ge.find(".b-page-"+(be.currentIndex-2)).addClass("b-pN").show(),ge.find(".b-page-"+(be.currentIndex-1)).addClass("b-p0").show()),ge.find(".b-page-"+be.currentIndex).addClass("b-p1").show(),ge.find(".b-page-"+(be.currentIndex+1)).addClass("b-p2").show(),be.currentIndex+3<=be.pageTotal&&(ge.find(".b-page-"+(be.currentIndex+2)).addClass("b-p3").show(),ge.find(".b-page-"+(be.currentIndex+3)).addClass("b-p4").show()),f=ge.find(".b-pN"),g=ge.find(".b-p0"),b=ge.find(".b-p1"),v=ge.find(".b-p2"),w=ge.find(".b-p3"),x=ge.find(".b-p4"),m=ge.find(".b-pN .b-wrap"),I=ge.find(".b-p0 .b-wrap"),T=ge.find(".b-p1 .b-wrap"),k=ge.find(".b-p2 .b-wrap"),y=ge.find(".b-p3 .b-wrap"),C=ge.find(".b-p4 .b-wrap"),B=ge.find(".b-wrap"),be.shadows&&(ge.find(".b-shadow-f, .b-shadow-b").remove(),N=e(ke.sF).css(Ce.sF).appendTo(w),O=e(ke.sB).appendTo(g).css(Ce.sB))},je=function(){ge.find(".b-shadow-f, .b-shadow-b, .b-p0, .b-p3").css({filter:"",zoom:""}),ge.find(".b-page").removeAttr("style"),B.removeAttr("style"),B.css(Ce.wrap),I.css(Ce.p0wrap),b.css(Ce.p1),v.css(Ce.p2),be.closed&&be.autoCenter&&be.currentIndex>=be.pageTotal-2&&v.hide(),f.css(Ce.pN),g.css(Ce.p0),w.stop().css(Ce.p3),x.css(Ce.p4),be.closed&&be.autoCenter&&0==be.currentIndex&&(f.css({left:0}),b.css({left:pe}),v.css({left:0}),w.css({left:le}),x.css({left:0})),be.closed&&be.autoCenter&&(0==be.currentIndex||be.currentIndex>=be.pageTotal-2)?(be.overlays&&P.width("100%"),ge.width(le)):(be.overlays&&P.width("50%"),ge.width(be.width)),ge.find(".b-page").css({filter:"",zoom:""})},qe=function(){ge.find(".b-wrap").unwrap(),ge.find(".b-wrap").children().unwrap(),ge.find(".b-counter, .b-page-blank, .b-page-empty, .b-shadow-f, .b-shadow-b").remove(),be.direction==ye.rightToLeft&&e(ge.children().get().reverse()).each(function(){e(this).appendTo(ge)})},Qe=function(t){var n=!1;if(null!=t&&void 0!==t&&(qe(),Ve(),be=e.extend({},be,t),n=!0,De()),be.width?"string"==typeof be.width&&-1!=be.width.indexOf("px")?be.width=be.width.replace("px",""):"string"==typeof be.width&&-1!=be.width.indexOf("%")&&(re=!0,ie=be.width,be.width=be.width.replace("%","")/100*parseFloat(ge.parent().css("width"))):be.width=ge.width(),be.height?"string"==typeof be.height&&-1!=be.height.indexOf("px")?be.height=be.height.replace("px",""):"string"==typeof be.height&&-1!=be.height.indexOf("%")&&(se=!0,de=be.height,be.height=be.height.replace("%","")/100*parseFloat(ge.parent().css("height"))):be.height=ge.height(),ge.width(be.width),ge.height(be.height),le=be.width/2,pe="-"+le+"px",ce=le/2,he=be.height,ue=be.speed/2,be.closed&&be.autoCenter&&(0==be.currentIndex?ge.width(le):be.currentIndex>=be.pageTotal-2&&ge.width(le)),be.shadows&&(be.shadowTopFwdWidth="-"+be.shadowTopFwdWidth+"px",be.shadowTopBackWidth="-"+be.shadowTopBackWidth+"px"),be.pageTotal=ge.children(".b-page").length,be.name?document.title=be.name:be.name=document.title,Re(),ve&&Ee(),be.menu&&e(be.menu).length>0){if(X=e(be.menu),X.hasClass("b-menu")||X.addClass("b-menu"),be.pageSelector&&0==X.find(".b-selector-page").length){for(K=e('<div class="b-selector b-selector-page"><span class="b-current">'+(be.currentIndex+1)+" - "+(be.currentIndex+2)+"</span></div>").appendTo(X),U=e("<ul></ul>").appendTo(K).empty().css("height","auto"),s=0;s<be.pageTotal;s+=2)d=s,V=d+1+"-"+(d+2),be.closed&&(d--,V=0==s?"1":s==be.pageTotal-2?be.pageTotal-2:d+1+"-"+(d+2),be.covers&&(d--,V=0==s?"":s==be.pageTotal-2?"":d+1+"-"+(d+2))),0==s&&K.find(".b-current").text(V),Y=Ne[s].title,""==Y&&(Y=Ne[s+1].title),be.direction==ye.rightToLeft&&""==(Y=Ne[Math.abs(s-be.pageTotal)-1].title)&&(Y=Ne[Math.abs(s-be.pageTotal)-2].title),Z=e('<li><a href="#/page/'+(s+1)+'" id="selector-page-'+s+'"><span class="b-text">'+Y+'</span><span class="b-num">'+V+"</span></a></li>").appendTo(U),be.hash||Z.find("a").on("click.booklet",function(t){t.preventDefault(),we||Te||(be.direction==ye.rightToLeft?(K.find(".b-current").text(e(this).find(".b-num").text()),nt(Math.abs(parseInt(e(this).attr("id").replace("selector-page-",""))-be.pageTotal)-2)):nt(parseInt(e(this).attr("id").replace("selector-page-",""))))});$=U.height(),U.css({height:0,"padding-bottom":0}),K.on("mouseenter.booklet",function(){U.stop().animate({height:$,paddingBottom:10},500)}).on("mouseleave.booklet",function(){U.stop().animate({height:0,paddingBottom:0},500)})}else be.pageSelector||(X.find(".b-selector-page").remove(),K=U=V=Y=Z=$=null);if(be.chapterSelector&&0==X.find(".b-selector-chapter").length){for(ee=Ne[be.currentIndex].chapter,""==ee&&(ee=Ne[be.currentIndex+1].chapter),te=e('<div class="b-selector b-selector-chapter"><span class="b-current">'+ee+"</span></div>").appendTo(X),ne=e("<ul></ul>").appendTo(te).empty().css("height","auto"),s=0;s<be.pageTotal;s+=1)""!=Ne[s].chapter&&void 0!==Ne[s].chapter&&(be.direction==ye.rightToLeft?(d=s,d%2!=0&&d--,te.find(".b-current").text(Ne[s].chapter),oe=e('<li><a href="#/page/'+(d+1)+'" id="selector-page-'+d+'"><span class="b-text">'+Ne[s].chapter+"</span></a></li>").prependTo(ne)):oe=e('<li><a href="#/page/'+(s+1)+'" id="selector-page-'+s+'"><span class="b-text">'+Ne[s].chapter+"</span></a></li>").appendTo(ne),be.hash||oe.find("a").on("click.booklet",function(t){t.preventDefault();var n;we||Te||(be.direction==ye.rightToLeft?(te.find(".b-current").text(e(this).find(".b-text").text()),n=Math.abs(parseInt(e(this).attr("id").replace("selector-page-",""))-be.pageTotal)-2):n=parseInt(e(this).attr("id").replace("selector-page-","")),n%2!=0&&(n-=1),nt(n))}));ae=ne.height(),ne.css({height:0,"padding-bottom":0}),te.on("mouseenter.booklet",function(){ne.stop().animate({height:ae,paddingBottom:10},500)}).on("mouseleave.booklet",function(){ne.stop().animate({height:0,paddingBottom:0},500)})}else be.chapterSelector||(X.find(".b-selector-chapter").remove(),ee=te=ne=oe=ae=null)}else X=null,be.menu&&e(be.menu).removeClass("b-menu"),ge.find(".b-selector").remove();F=ge.find(".b-controls"),0==F.length&&(F=e('<div class="b-controls"></div>').appendTo(ge)),be.manual&&e.ui&&(be.overlays=!1),R&&(R.off("click.booklet"),R=null),H&&(H.off("click.booklet"),H=null),P=ge.find(".b-overlay"),be.overlays&&0==P.length?(S=e('<div class="b-overlay b-overlay-prev b-prev" title="'+be.previousControlTitle+'"></div>').appendTo(F),M=e('<div class="b-overlay b-overlay-next b-next" title="'+be.nextControlTitle+'"></div>').appendTo(F),P=ge.find(".b-overlay")):be.overlays||(P.remove(),P=null),D=ge.find(".b-tab"),be.tabs&&0==D.length?(z=e('<div class="b-tab b-tab-prev b-prev" title="'+be.previousControlTitle+'">'+be.previousControlText+"</div>").appendTo(F),E=e('<div class="b-tab b-tab-next b-next" title="'+be.nextControlTitle+'">'+be.nextControlText+"</div>").appendTo(F),D=ge.find(".b-tab")):be.tabs||(ge.css({marginTop:0}),D.remove(),D=null),be.tabs&&D.length>0&&(be.tabWidth&&D.width(be.tabWidth),be.tabHeight&&D.height(be.tabHeight),D.css({top:"-"+E.outerHeight()+"px"}),ge.css({marginTop:E.outerHeight()}),be.direction==ye.rightToLeft&&(E.html(be.previousControlText).attr("title",be.previousControlTitle),z.html(be.nextControlText).attr("title",be.nextControlTitle))),j=ge.find(".b-arrow"),be.arrows&&0==j.length?(Q=e('<div class="b-arrow b-arrow-prev b-prev" title="'+be.previousControlTitle+'"><div>'+be.previousControlText+"</div></div>").appendTo(F),q=e('<div class="b-arrow b-arrow-next b-next" title="'+be.nextControlTitle+'"><div>'+be.nextControlText+"</div></div>").appendTo(F),j=ge.find(".b-arrow"),be.direction==ye.rightToLeft&&(q.html("<div>"+be.previousControlText+"</div>").attr("title",be.previousControlTitle),Q.html("<div>"+be.nextControlText+"</div>").attr("title",be.nextControlTitle))):be.arrows||(j.remove(),j=null),A=F.find(".b-next"),_=F.find(".b-prev"),A.off(".booklet"),_.off(".booklet"),A.on("click.booklet",function(e){e.preventDefault(),et()}),_.on("click.booklet",function(e){e.preventDefault(),tt()}),be.next&&e(be.next).length>0&&(R=e(be.next),R.on("click.booklet",function(e){e.preventDefault(),et()})),be.prev&&e(be.prev).length>0&&(H=e(be.prev),H.on("click.booklet",function(e){e.preventDefault(),tt()})),be.overlays&&be.hovers&&(A.on("mouseover.booklet",function(){ot(!0)}).on("mouseout.booklet",function(){at(!0)}),_.on("mouseover.booklet",function(){ot(!1)}).on("mouseout.booklet",function(){at(!1)})),be.arrows&&(be.arrowsHide?e.support.opacity?(A.on("mouseover.booklet",function(){q.find("div").stop().fadeTo("fast",1)}).on("mouseout.booklet",function(){q.find("div").stop().fadeTo("fast",0)}),_.on("mouseover.booklet",function(){Q.find("div").stop().fadeTo("fast",1)}).on("mouseout.booklet",function(){Q.find("div").stop().fadeTo("fast",0)})):(A.on("mouseover.booklet",function(){q.find("div").show()}).on("mouseout.booklet",function(){q.find("div").hide()}),_.on("mouseover.booklet",function(){Q.find("div").show()}).on("mouseout.booklet",function(){Q.find("div").hide()})):(q.find("div").show(),Q.find("div").show())),e(document).on("keyup.booklet",function(e){37==e.keyCode&&be.keyboard?tt():39==e.keyCode&&be.keyboard&&et()}),clearInterval(l),l=null,be.hash&&(Ge(),clearInterval(l),l=setInterval(function(){Je()},250)),e(window).on("resize.booklet",function(){(re||se)&&He()}),be.auto&&be.delay?(clearInterval(p),p=setInterval(function(){be.direction==ye.leftToRight?et():tt()},be.delay),xe=!0,be.pause&&e(be.pause).length>0&&(G=e(be.pause),G.off("click.booklet").on("click.booklet",function(e){e.preventDefault(),xe&&(clearInterval(p),xe=!1)})),be.play&&e(be.play).length>0&&(J=e(be.play),J.off("click.booklet").on("click.booklet",function(e){e.preventDefault(),xe||(clearInterval(p),p=setInterval(function(){be.direction==ye.leftToRight?et():tt()},be.delay),xe=!0)}))):(clearInterval(p),p=null,be.pause&&e(be.pause).length>0&&e(be.pause).off("click.booklet"),G=null,be.play&&e(be.play).length>0&&e(be.play).off("click.booklet"),J=null,xe=!1),n&&(Ee(),Ae(),_e())},Re=function(){Ce={wrap:{left:0,width:le-2*be.pagePadding-2*be.pageBorder,height:he-2*be.pagePadding-2*be.pageBorder,padding:be.pagePadding},p0wrap:{right:0,left:"auto"},p1:{left:0,width:le,height:he},p2:{left:le,width:le,opacity:1,height:he},pN:{left:0,width:le,height:he},p0:{left:0,width:0,height:he},p3:{left:2*le,width:0,height:he,paddingLeft:0},p4:{left:le,width:le,height:he},sF:{right:0,width:le,height:he},sB:{left:0,width:le,height:he}},o=10,a=be.hoverWidth+o,r=be.hoverWidth/2+o,Be={hover:{speed:be.hoverSpeed,size:be.hoverWidth,p2:{width:le-r},p3:{left:be.width-a,width:r},p3closed:{left:le-be.hoverWidth,width:r},p3wrap:{left:o},p2end:{width:le},p2closedEnd:{width:le,left:0},p3end:{left:be.width,width:0},p3closedEnd:{left:le,width:0},p3wrapEnd:{left:10},p1:{left:r,width:le-r},p1wrap:{left:"-"+r+"px"},p0:{left:r,width:r},p0wrap:{right:o},p1end:{left:0,width:le},p1wrapEnd:{left:0},p0end:{left:0,width:0},p0wrapEnd:{right:0}},p2:{width:0},p2closed:{width:0,left:le},p4closed:{left:le},p3in:{left:ce,width:ce,paddingLeft:be.shadowBtmWidth},p3inDrag:{left:le/4,width:.75*le,paddingLeft:be.shadowBtmWidth},p3out:{left:0,width:le,paddingLeft:0},p3wrapIn:{left:be.shadowBtmWidth},p3wrapOut:{left:0},p1:{left:le,width:0},p1wrap:{left:pe},p0:{left:le,width:le},p0in:{left:ce,width:ce},p0out:{left:le,width:le},p0outClosed:{left:0,width:le},p2back:{left:0},p0wrapDrag:{right:0},p0wrapIn:{right:be.shadowBtmWidth},p0wrapOut:{right:0}}},He=function(){Te||(re&&(be.width=ie.replace("%","")/100*parseFloat(ge.parent().css("width")),ge.width(be.width),le=be.width/2,pe="-"+le+"px",ce=le/2),se&&(be.height=de.replace("%","")/100*parseFloat(ge.parent().css("height")),ge.height(be.height),he=be.height),Re(),je())},Ae=function(){(be.overlays||be.tabs||be.arrows)&&(e.support.opacity?(be.currentIndex>=2&&0!=be.currentIndex?_.fadeIn("fast").css("cursor",be.cursor):_.fadeOut("fast").css("cursor","default"),be.currentIndex<be.pageTotal-2?A.fadeIn("fast").css("cursor",be.cursor):A.fadeOut("fast").css("cursor","default")):(be.currentIndex>=2&&0!=be.currentIndex?_.show().css("cursor",be.cursor):_.hide().css("cursor","default"),be.currentIndex<be.pageTotal-2?A.show().css("cursor",be.cursor):A.hide().css("cursor","default")))},_e=function(){if(be.pageSelector){var t="";be.direction==ye.rightToLeft?(t=Math.abs(be.currentIndex-be.pageTotal)-1+" - "+Math.abs(be.currentIndex-be.pageTotal),be.closed&&(t=be.currentIndex==be.pageTotal-2?"1":0==be.currentIndex?be.pageTotal-2:Math.abs(be.currentIndex-be.pageTotal)-2+" - "+(Math.abs(be.currentIndex-be.pageTotal)-1),be.covers&&(t=be.currentIndex==be.pageTotal-2?"":0==be.currentIndex?"":Math.abs(be.currentIndex-be.pageTotal)-3+" - "+(Math.abs(be.currentIndex-be.pageTotal)-2)))):(t=be.currentIndex+1+" - "+(be.currentIndex+2),be.closed&&(t=0==be.currentIndex?"1":be.currentIndex==be.pageTotal-2?be.pageTotal-2:be.currentIndex+"-"+(be.currentIndex+1),be.covers&&(t=0==be.currentIndex?"":be.currentIndex==be.pageTotal-2?"":be.currentIndex-1+"-"+be.currentIndex))),e(be.menu+" .b-selector-page .b-current").text(t)}be.chapterSelector&&(""!=Ne[be.currentIndex].chapter?e(be.menu+" .b-selector-chapter .b-current").text(Ne[be.currentIndex].chapter):""!=Ne[be.currentIndex+1].chapter&&e(be.menu+" .b-selector-chapter .b-current").text(Ne[be.currentIndex+1].chapter),be.direction==ye.rightToLeft&&""!=Ne[be.currentIndex+1].chapter?e(be.menu+" .b-selector-chapter .b-current").text(Ne[be.currentIndex+1].chapter):""!=Ne[be.currentIndex]&&e(be.menu+" .b-selector-chapter .b-current").text(Ne[be.currentIndex].chapter))},Xe=function(){var t,n,i,s,d,l,p,c,h,u,m;me=Ie=W=L=!1,e.ui&&(ge.find(".b-page").draggable()&&ge.find(".b-page").draggable("destroy").removeClass("b-grab b-grabbing"),be.manual&&(w.draggable({axis:"x",containment:[ge.offset().left,0,v.offset().left+le-a,he],drag:function(a,u){W=!0,w.removeClass("b-grab").addClass("b-grabbing"),t=u.originalPosition.left,n=u.position.left,i=t-n,s=i/t,d=s<.5?s:1-s,l=d*be.shadowBtmWidth*2+o,l=i/t>=.5?l-=o:l,be.shadows&&(N.css({right:"-"+be.shadowTopFwdWidth*d*2+"px"}),e.support.opacity?N.css({opacity:2*d}):N.css({right:"auto",left:.1*w.width()})),p=r+i/2,p=p>le?le:p,c=le-p,be.closed&&be.autoCenter&&(0==be.currentIndex?(h=.5+.5*s,p=r+r*s+i,p=p>le?le:p,c=le-p,v.css({left:le*s}),x.css({left:le*s}),ge.width(be.width*h)):be.currentIndex==be.pageTotal-4?(h=1-s+.5*s,c=le-p,x.hide(),ge.width(be.width*h)):ge.width(be.width)),w.width(p),y.css({left:l}),v.width(c)},stop:function(){at(!1),s>be.hoverThreshold?(be.shadows&&!e.support.opacity&&N.css({left:"auto",opacity:0}),et(),w.removeClass("b-grab b-grabbing")):(W=!1,w.removeClass("b-grabbing").addClass("b-grab"),N.animate({left:"auto",opacity:0},Be.hover.speed,be.easing).css(Ce.sF),be.closed&&be.autoCenter&&(0==be.currentIndex?(v.animate({left:0},Be.hover.speed,be.easing),x.animate({left:0},Be.hover.speed,be.easing),ge.animate({width:.5*be.width},Be.hover.speed,be.easing)):ge.animate({width:be.width},Be.hover.speed,be.easing)))}}),g.draggable({axis:"x",containment:[ge.offset().left+r,0,ge.offset().left+be.width,he],drag:function(a,c){L=!0,g.removeClass("b-grab").addClass("b-grabbing"),t=c.originalPosition.left,n=c.position.left,i=n-t,s=i/(be.width-t),be.closed&&be.autoCenter&&2==be.currentIndex&&(s=i/(le-t)),s>1&&(s=1),d=s<.5?s:1-s,l=d*be.shadowBtmWidth*2+o,l=i/t>=.5?l-=o:l,be.shadows&&(e.support.opacity?O.css({opacity:2*d}):O.css({left:be.shadowTopBackWidth*d*2})),p=s*(le-r)+r+l,u=p-l,m=-u,be.closed&&be.autoCenter&&(2==be.currentIndex?(h=1-s+.5*s,u*=1-s,m=-u-(be.width-be.width*h),f.hide(),v.css({left:le*(1-s)}),x.css({left:le*(1-s)}),ge.width(be.width*h)):be.currentIndex==be.pageTotal-2?(h=.5+.5*s,ge.width(be.width*h)):ge.width(be.width)),c.position.left=u,g.css({width:p}),I.css({right:l}),b.css({left:u,width:le-u}),T.css({left:m})},stop:function(){at(!0),s>be.hoverThreshold?(tt(),g.removeClass("b-grab b-grabbing")):(O.animate({opacity:0},Be.hover.speed,be.easing).css(Ce.sB),L=!1,g.removeClass("b-grabbing").addClass("b-grab"),be.closed&&be.autoCenter&&(2==be.currentIndex?(v.animate({left:le},2*Be.hover.speed,be.easing),x.animate({left:le},2*Be.hover.speed,be.easing),ge.animate({width:be.width},2*Be.hover.speed,be.easing)):be.currentIndex==be.pageTotal-2&&ge.animate({width:.5*be.width},Be.hover.speed,be.easing)))}}),ge.find(".b-page").off("click.booklet"),be.hoverClick&&(ge.find(".b-pN, .b-p0").on("click.booklet",tt).css({cursor:"pointer"}),ge.find(".b-p3, .b-p4").on("click.booklet",et).css({cursor:"pointer"})),ge.off("mousemove.booklet").on("mousemove.booklet",function(e){i=e.pageX-ge.offset().left,i<Be.hover.size?ot(!1):i>le-Be.hover.size&&0==be.currentIndex&&be.autoCenter&&be.closed?ot(!0):i>Be.hover.size&&i<=be.width-Be.hover.size?(at(!1),at(!0)):i>be.width-Be.hover.size&&ot(!0)}).off("mouseleave.booklet").on("mouseleave.booklet",function(){at(!1),at(!0)})))},Ge=function(){i=Ke(),!isNaN(i)&&i<=be.pageTotal-1&&i>=0&&""!=i?(i%2!=0&&i--,be.currentIndex=i):Ue(be.currentIndex+1,be),Oe=i},Je=function(){i=Ke(),!isNaN(i)&&i<=be.pageTotal-1&&i>=0&&i!=be.currentIndex&&i.toString()!=Oe&&(i%2!=0&&i--,document.title=be.name+be.hashTitleText+(i+1),we||(nt(i),Oe=i))},Ke=function(){var e,t;return e=window.location.hash.split("/"),e.length>1?(t=parseInt(e[2])-1,be.direction==ye.rightToLeft&&(t=Math.abs(t+1-be.pageTotal)),t):""},Ue=function(e,t){t.hash&&(t.direction==ye.rightToLeft&&(e=Math.abs(e-t.pageTotal)),window.location.hash="/page/"+e)},Ve=function(){be.menu&&(e(be.menu).removeClass("b-menu"),be.pageSelector&&(X.find(".b-selector-page").remove(),K=U=V=Y=Z=$=null),be.chapterSelector&&(X.find(".b-selector-chapter").remove(),ee=te=ne=oe=ae=null)),X=null,R&&(R.off("click.booklet"),R=null),H&&(H.off("click.booklet"),H=null),A&&(A.off(".booklet"),A=null),_&&(_.off(".booklet"),_=null),ge.find(".b-selector, .b-controls").remove(),clearInterval(l),l=null,clearInterval(p),p=null,be.pause&&e(be.pause).length>0&&e(be.pause).off("click.booklet"),G=null,be.play&&e(be.play).length>0&&e(be.play).off("click.booklet"),J=null,Ye()},Ye=function(){e.ui&&ge.find(".b-page").draggable()&&ge.find(".b-page").draggable("destroy").removeClass("b-grab b-grabbing"),ge.off(".booklet")},Ze=function(t,n){if("start"==t)t=0;else if("end"==t)t=h;else if("number"==typeof t){if(t<0||t>h)return}else if(void 0===t)return;void 0!==n&&""!=n&&(qe(),Ve(),be.closed&&be.covers&&t==h?ge.children(":eq("+(t-1)+")").before(n):be.closed&&be.covers&&0==t?ge.children(":eq("+t+")").after(n):t==h?ge.children(":eq("+(t-1)+")").after(n):ge.children(":eq("+t+")").before(n),h=ge.children().length,fe={options:e.extend({},be),index:t,page:ge.children(":eq("+t+")")[0]},be.add&&ge.off(We.add+".booklet").on(We.add+".booklet",be.add),ge.trigger(We.add,fe),De(),Qe(),Ee(),Ae(),_e())},$e=function(t){if("start"==t)t=0;else if("end"==t)t=h;else if("number"==typeof t){if(t<0||t>h)return}else if(void 0===t)return;if(!(2==ge.children(".b-page").length&&ge.find(".b-page-blank").length>0)){qe(),Ve(),t>=be.currentIndex&&(t>0&&t%2!=0&&(be.currentIndex-=2),be.currentIndex<0&&(be.currentIndex=0));var n;n=be.closed&&be.covers&&t==h?ge.children(":eq("+(t-1)+")").remove():be.closed&&be.covers&&0==t?ge.children(":eq("+t+")").remove():t==h?ge.children(":eq("+(t-1)+")").remove():ge.children(":eq("+t+")").remove(),h=ge.children().length,fe={options:e.extend({},be),index:t,page:n[0]},be.remove&&ge.off(We.remove+".booklet").on(We.remove+".booklet",be.remove),ge.trigger(We.remove,fe),n=null,De(),Ee(),Qe(),Ae(),_e()}},et=function(){we||Te||nt(xe&&be.currentIndex+2>=be.pageTotal?0:be.currentIndex+2)},tt=function(){we||Te||nt(xe&&be.currentIndex-2<0?be.pageTotal-2:be.currentIndex-2)},nt=function(t){var n;t<be.pageTotal&&t>=0&&!we&&!Te&&(t>be.currentIndex?(we=!0,c=t-be.currentIndex,be.currentIndex=t,be.movingForward=!0,fe={options:e.extend({},be),index:t,pages:[Ne[t].contentNode,Ne[t+1].contentNode]},be.start&&ge.off(We.start+".booklet").on(We.start+".booklet",be.start),ge.trigger(We.start,fe),_e(),t==be.pageTotal-2&&Ae(),Ue(be.currentIndex+1,be),n=!0===W?be.speed*(w.width()/le):ue,rt(c,!0,N,n),be.closed&&be.autoCenter&&t-c==0?(v.stop().animate(Be.p2closed,!0===W?n:2*n,be.easing),x.stop().animate(Be.p4closed,!0===W?n:2*n,be.easing)):v.stop().animate(Be.p2,n,!0===W?be.easeOut:be.easeIn),W?(w.animate(Be.p3out,n,be.easeOut),y.animate(Be.p3wrapOut,n,be.easeOut,function(){it()})):(w.stop().animate(Be.p3in,n,be.easeIn).animate(Be.p3out,n,be.easeOut),y.animate(Be.p3wrapIn,n,be.easeIn).animate(Be.p3wrapOut,n,be.easeOut,function(){it()}))):t<be.currentIndex&&(we=!0,c=be.currentIndex-t,be.currentIndex=t,be.movingForward=!1,fe={options:e.extend({},be),index:t,pages:[Ne[t].contentNode,Ne[t+1].contentNode]},be.start&&ge.off(We.start+".booklet").on(We.start+".booklet",be.start),ge.trigger(We.start,fe),_e(),0==t&&Ae(),Ue(be.currentIndex+1,be),n=!0===L?be.speed*(g.width()/le):ue,rt(c,!1,O,n),L?(b.animate(Be.p1,n,be.easeOut),T.animate(Be.p1wrap,n,be.easeOut),be.closed&&be.autoCenter&&0==be.currentIndex?(g.animate(Be.p0outClosed,n,be.easeOut),v.stop().animate(Be.p2back,n,be.easeOut)):g.animate(Be.p0,n,be.easeOut),I.animate(Be.p0wrapDrag,n,be.easeOut,function(){it()})):(b.animate(Be.p1,2*n,be.easing),T.animate(Be.p1wrap,2*n,be.easing),be.closed&&be.autoCenter&&0==be.currentIndex?(g.animate(Be.p0in,n,be.easeIn).animate(Be.p0outClosed,n,be.easeOut),v.stop().animate(Be.p2back,2*n,be.easing)):g.animate(Be.p0in,n,be.easeIn).animate(Be.p0out,n,be.easeOut),I.animate(Be.p0wrapIn,n,be.easeIn).animate(Be.p0wrapOut,n,be.easeOut,function(){it()}))))},ot=function(t){!Te&&(be.hovers&&be.overlays||be.manual)&&(t?we||me||Ie||W||!(be.currentIndex+2<=be.pageTotal-2)||(v.stop().animate(Be.hover.p2,Be.hover.speed,be.easing),w.addClass("b-grab"),be.closed&&be.autoCenter&&0==be.currentIndex?w.stop().animate(Be.hover.p3closed,Be.hover.speed,be.easing):w.stop().animate(Be.hover.p3,Be.hover.speed,be.easing),y.stop().animate(Be.hover.p3wrap,Be.hover.speed,be.easing),be.shadows&&!e.support.opacity&&N.css({right:"auto",left:"-40%"}),me=!0):we||Ie||me||L||!(be.currentIndex-2>=0)||(b.stop().animate(Be.hover.p1,Be.hover.speed,be.easing),g.addClass("b-grab"),T.stop().animate(Be.hover.p1wrap,Be.hover.speed,be.easing),g.stop().animate(Be.hover.p0,Be.hover.speed,be.easing),I.stop().animate(Be.hover.p0wrap,Be.hover.speed,be.easing),be.shadows&&!e.support.opacity&&O.css({left:-.38*le}),Ie=!0))},at=function(t){!Te&&(be.hovers&&be.overlays||be.manual)&&(t?!we&&me&&!W&&be.currentIndex+2<=be.pageTotal-2&&(be.closed&&be.autoCenter&&0==be.currentIndex?(v.stop().animate(Be.hover.p2closedEnd,Be.hover.speed,be.easing),w.stop().animate(Be.hover.p3closedEnd,Be.hover.speed,be.easing)):(v.stop().animate(Be.hover.p2end,Be.hover.speed,be.easing),w.stop().animate(Be.hover.p3end,Be.hover.speed,be.easing)),y.stop().animate(Be.hover.p3wrapEnd,Be.hover.speed,be.easing),be.shadows&&!e.support.opacity&&N.css({left:"auto"}),me=!1):!we&&Ie&&!L&&be.currentIndex-2>=0&&(b.stop().animate(Be.hover.p1end,Be.hover.speed,be.easing),T.stop().animate(Be.hover.p1wrapEnd,Be.hover.speed,be.easing),g.stop().animate(Be.hover.p0end,Be.hover.speed,be.easing),I.stop().animate(Be.hover.p0wrapEnd,Be.hover.speed,be.easing),Ie=!1))},rt=function(t,n,o,a){n&&t>2?(ge.find(".b-p3, .b-p4").removeClass("b-p3 b-p4").hide(),ge.find(".b-page-"+be.currentIndex).addClass("b-p3").show().stop().css(Ce.p3),ge.find(".b-page-"+(be.currentIndex+1)).addClass("b-p4").show().css(Ce.p4),ge.find(".b-page-"+be.currentIndex+" .b-wrap").show().css(Ce.wrap),ge.find(".b-page-"+(be.currentIndex+1)+" .b-wrap").show().css(Ce.wrap),w=ge.find(".b-p3"),x=ge.find(".b-p4"),y=ge.find(".b-p3 .b-wrap"),C=ge.find(".b-p4 .b-wrap"),be.closed&&be.autoCenter&&be.currentIndex-t==0&&(w.css({left:le}),x.css({left:0})),me&&w.css({left:be.width-40,width:20,"padding-left":10}),be.shadows&&(ge.find(".b-shadow-f").remove(),N=e(ke.sF).css(Ce.sF).appendTo(w),o=N)):!n&&t>2&&(ge.find(".b-pN, .b-p0").removeClass("b-pN b-p0").hide(),ge.find(".b-page-"+be.currentIndex).addClass("b-pN").show().css(Ce.pN),ge.find(".b-page-"+(be.currentIndex+1)).addClass("b-p0").show().css(Ce.p0),ge.find(".b-page-"+be.currentIndex+" .b-wrap").show().css(Ce.wrap),ge.find(".b-page-"+(be.currentIndex+1)+" .b-wrap").show().css(Ce.wrap),f=ge.find(".b-pN"),g=ge.find(".b-p0"),m=ge.find(".b-pN .b-wrap"),I=ge.find(".b-p0 .b-wrap"),be.closed&&be.autoCenter&&f.css({left:0}),I.css(Ce.p0wrap),Ie&&(g.css({left:10,width:40}),I.css({right:10})),be.shadows&&(ge.find(".b-shadow-b, .b-shadow-f").remove(),O=e(ke.sB).appendTo(g).css(Ce.sB),o=O)),be.closed&&(n||0!=be.currentIndex?n||f.show():f.hide(),n&&be.currentIndex>=be.pageTotal-2?x.hide():n&&x.show()),be.shadows&&(e.support.opacity?(W||L||o.animate({opacity:1},a,be.easeIn),o.animate({opacity:0},a,be.easeOut)):n?o.animate({right:be.shadowTopFwdWidth},2*a,be.easeIn):o.animate({left:be.shadowTopBackWidth},2*a,be.easeIn)),be.closed&&be.autoCenter&&(0==be.currentIndex?(w.hide(),x.hide(),ge.animate({width:le},W||L?a:2*a,be.easing)):be.currentIndex>=be.pageTotal-2?(g.hide(),f.hide(),ge.animate({width:le},2*a,be.easing)):ge.animate({width:be.width},2*a,be.easing))},it=function(){Ee(),_e(),Ae(),we=!1,fe={options:e.extend({},be),index:be.currentIndex,pages:[Ne[be.currentIndex].contentNode,Ne[be.currentIndex+1].contentNode]},be.change&&ge.off(We.change+".booklet").on(We.change+".booklet",be.change),ge.trigger(We.change,fe)};return{init:Fe,enable:Pe,disable:Me,destroy:Se,next:et,prev:tt,gotopage:function(e){if("string"==typeof e)"start"==e?e=0:"end"==e?e=be.pageTotal-2:this.gotopage(parseInt(e));else if("number"==typeof e){if(e<0||e>=be.pageTotal)return}else if(void 0===e)return;e%2!=0&&(e-=1),be.direction==ye.rightToLeft&&(e=Math.abs(e-be.pageTotal)-2),nt(e)},add:Ze,remove:$e,option:function(t,n){if("string"==typeof t)if(void 0!==be[t]){if(void 0===n)return be[t];be[t]=n,Qe()}else e.error('Option "'+t+'" does not exist on jQuery.booklet.');else if("object"==typeof t)Qe(t);else if(void 0===t||!t)return e.extend({},be)}}}e.fn.booklet=function(n,o,a){var r,i,s,d,l,p,c;return"string"==typeof n?(l=[],e(this).each(function(){r=e(this).data("booklet"),r?(i=n,s=[],void 0!==o&&s.push(o),void 0!==a&&s.push(a),r[i]?(void 0!==(d=r[i].apply(r,s))||d)&&l.push(r[i].apply(r,s)):e.error('Method "'+i+'" does not exist on jQuery.booklet.')):e.error('jQuery.booklet has not been initialized. Method "'+n+'" cannot be called.')}),1==l.length?l[0]:l.length>0?l:e(this)):"number"==typeof n?e(this).each(function(){r=e(this).data("booklet"),r?(c=n,r.gotopage(c)):e.error("jQuery.booklet has not been initialized.")}):"object"!=typeof i&&i?void 0:e(this).each(function(){return p=e.extend({},e.fn.booklet.defaults,n),r=e(this).data("booklet"),r&&r.destroy(),r=new t(e(this),p),r.init(),this})},e.fn.booklet.defaults={name:null,width:600,height:400,speed:1e3,direction:"LTR",startingPage:0,easing:"easeInOutQuad",easeIn:"easeInQuad",easeOut:"easeOutQuad",closed:!1,closedFrontTitle:"Beginning",closedFrontChapter:"Beginning of Book",closedBackTitle:"End",closedBackChapter:"End of Book",covers:!1,autoCenter:!1,pagePadding:10,pageNumbers:!0,pageBorder:0,manual:!0,hovers:!0,hoverWidth:50,hoverSpeed:500,hoverThreshold:.25,hoverClick:!0,overlays:!1,tabs:!1,tabWidth:60,tabHeight:20,nextControlText:"Next",previousControlText:"Previous",nextControlTitle:"Next Page",previousControlTitle:"Previous Page",arrows:!1,arrowsHide:!1,cursor:"pointer",hash:!1,hashTitleText:" - Page ",keyboard:!0,next:null,prev:null,auto:!1,delay:5e3,pause:null,play:null,menu:null,pageSelector:!1,chapterSelector:!1,shadows:!0,shadowTopFwdWidth:166,shadowTopBackWidth:166,shadowBtmWidth:50,create:null,start:null,change:null,add:null,remove:null}}(jQuery)}});